/***********************************************************************
**	ボックス  - ボックス選択ウィンドウ -
**
**	Masao Taya
**
**********************************************************************/
#include "common.h"
#include "actor.h"
#include "actanm.h"
#include "print.h"
#include "param.h"
#include "pasocom.h"
#include "boxsub.h"
#include "boxsel.h"
#include "mus_tool.h"

/*==============================================
==	マクロ
==============================================*/
#define	FONT8x16sDATAADRS(code)	( (u32)(font8x16s_Character) \
		+ (u32)( (code & 0xfff0) * 0x20 * 2 + (code & 0xf)*0x20 ) )

#define	FONT8x8sDATAADRS(code)	( (u32)(font8x8s_Character) + (u32)(code) * 0x20 )

#define  BOXNAME_X  (0)
#define  BOXNAME_Y  (1)
#define  COUNT_X    (3)
#define  COUNT_Y    (3)

// ボックス選択ウィンドウ
#define  BOXSEL_CENTER_X  (160)
#define  BOXSEL_Y         (96)
#define  BOXSEL_LEFT_X    (BOXSEL_CENTER_X-36)
#define  BOXSEL_RIGHT_X   (BOXSEL_CENTER_X+36)
#define  BOXSEL_DIFFX     (BOXSEL_RIGHT_X-BOXSEL_LEFT_X)
#define  BOXSEL_UP_Y      (BOXSEL_Y-16)
#define  BOXSEL_DOWN_Y    (BOXSEL_Y+16)

#if 0
#define  BOXSELTAB_WIDTH     (22)
#define  BOXSELTAB_HEIGHT    (14)
#define  BOXSELTAB_CENTER_X  (BOXSEL_CENTER_X)
#define  BOXSELTAB_CENTER_Y  (BOXSEL_Y-36-(16-BOXSELTAB_HEIGHT))
#define  BOXSELTAB_LEFT_X     (BOXSELTAB_CENTER_X-(BOXSELTAB_WIDTH-3))
#define  BOXSELTAB_RIGHT_X    (BOXSELTAB_CENTER_X+(BOXSELTAB_WIDTH-3))
#define  BOXSELTAB_LR_Y       (BOXSELTAB_CENTER_Y + 2)
#endif

#define BOXSEL_ARROW_X     (BOXSEL_CENTER_X-36)
#define BOXSEL_ARROW_XDIFF (72)
#define BOXSEL_ARROW_Y     (88)

/*==============================================
==	画像データ
==============================================*/
static const u16 boxsel_Palette[16];
static const u8 boxsel_Character[8*4*64];
static const u8 boxselside_Character[8*4*12];

/*==============================================
==	アニメデータ
==============================================*/
static const actAnm BoxSelSideAnm[]={
	{ 0, 5, 0, 0 }, { ACT_ANMEND, 0, 0, 0 },
	{ 4, 5, 0, 0 }, { ACT_ANMEND, 0, 0, 0 },
	{ 6, 5, 0, 0 }, { ACT_ANMEND, 0, 0, 0 },
	{10, 5, 0, 0 }, { ACT_ANMEND, 0, 0, 0 },
};

static const actAnm * const BoxSelSideAnmTbl[] = {
	BoxSelSideAnm,
	BoxSelSideAnm + 2,
	BoxSelSideAnm + 4,
	BoxSelSideAnm + 6,
};

// 拡縮アニメ
static const actAffAnm BoxSelTabAffAnm[] = {
	{ 0x00e0, 0x00e0, 0, ACT_AFSET },
	{ACT_AFEND,0,0,0},
};
static const actAffAnm * const BoxSelTabAffAnmTbl[] = {
	BoxSelTabAffAnm
};
/*==============================================
==	グローバル
==============================================*/
static BOXSEL_WORK *SelWork = NULL;

extern u8 font8x16s_Character[];
extern u8 font8x8s_Character[];

/*==============================================
==	プロトタイプ
==============================================*/
static void DispBoxSel(u8 box_no);
static void DelBoxSel(void);
static void write_boxsel_obj(const u8 *str, u16 x, u16 y);
static void write_boxname(void);
static void inc_boxno(void);
static void dec_boxno(void);
static void arrow_actmove(actWork *act);
extern actWork* MakeBoxArrowActor(u16 x, u16 y, u8 vector, u8 oampri, u8 actpri);

/***********************************************************************
**	ボックス選択ウィンドウ用画像データ登録
**********************************************************************/
void InitBoxSelWindow(BOXSEL_WORK *work_addr, u16 cell_id, u16 pal_id, u8 actpri)
{
	PalData pal = { boxsel_Palette, pal_id };
	CellData cell[] = {
		{ boxsel_Character, sizeof(boxsel_Character), cell_id },
		{ boxselside_Character, sizeof(boxselside_Character), cell_id+1 },
		{ CELL_END, 0, 0 },
	};

	ObjPalSet(&pal);
	CellSets(cell);

	SelWork = work_addr;
	SelWork->cell_id = cell_id;
	SelWork->pal_id = pal_id;
	SelWork->actpri = actpri;
}
/***********************************************************************
**	ボックス選択ウィンドウ用画像データ削除
**********************************************************************/
void QuitBoxSelWindow(void)
{
	ObjPalRegNumDel(SelWork->pal_id);
	CellDel(SelWork->cell_id);
	CellDel(SelWork->cell_id+1);
}
/***********************************************************************
**	ボックス選択ウィンドウ表示＆モード切替
**********************************************************************/
void BeginBoxSel(u8 box_no)
{
	DispBoxSel(box_no);
}
/***********************************************************************
**	ボックス選択ウィンドウ消去＆モード切替
**********************************************************************/
void EndBoxSel(void)
{
	DelBoxSel();
}
/***********************************************************************
**	ボックス選択ウィンドウコントロール
**  ※ 毎 Sync 呼び出し
**
**   戻り値   ボックスが選択された ... 選択番号
**            まだ選択されていない ... BOXSEL_NOSELECT
**            キャンセル           ... BOXSEL_CANCEL
**
**********************************************************************/
u8 BoxSelControl(void)
{
	if(sys.Trg & B_BUTTON){
		SePlay(SE_SELECT);
		return BOXSEL_CANCEL;
	}
	if(sys.Trg & A_BUTTON){
		SePlay(SE_SELECT);
		return SelWork->SelBoxNo;
	}
	if(sys.Trg & L_KEY){
		SePlay(SE_SELECT);
		dec_boxno();
	}else if(sys.Trg & R_KEY){
		SePlay(SE_SELECT);
		inc_boxno();
	}

	return BOXSEL_NEVER;
}
/***********************************************************************
**	ボックス選択ウィンドウ表示
**********************************************************************/
static void DispBoxSel(u8 box_no)
{
	ActOamData BoxSelOamData = {
		0,		//u32 VPos:8;             // Ｙ座標
		0,		//u32 AffineMode:2;       // アフィンモード
		0,		//u32 ObjMode:2;          // ＯＢＪモード
		OFF,	//u32 Mosaic:1;           // モザイク
		0,		//u32 ColorMode:1;        // １６色/２５６色 選択
		0,		//u32 Shape:2;            // ＯＢＪ形状

		0,		//u32 HPos:9;             // Ｘ座標
		0,		//u32 AffineParamNo:5;  // アフィン変換パラメータNo & H,VFlip
		3,		//u32 Size:2;             // ＯＢＪサイズ

		0,		//u32 CharNo:10;          // キャラクタＮｏ
		0,      //u32 Priority:2;         // 表示優先
		1,		//u32 Pltt:4;             // パレットＮｏ
		0,
	};

	actHeader header = {
		0,
		0,
		&BoxSelOamData,
		DummyActAnmTbl,
		ACT_NTRANS,
		DummyActAffTbl,
		DummyActMove,
	};
	u16 actno, anmno, i;
	u8  fooder[] = { sura_, n3_, n0_, EOM_ };

	SelWork->SelBoxNo = box_no;

	header.cellNo = SelWork->cell_id;
	header.palNo = SelWork->pal_id;

	actno = AddActor(&header, BOXSEL_CENTER_X, BOXSEL_Y, 0);
	SelWork->SelActor = &ActWork[actno];

	BoxSelOamData.Shape = 2;
	BoxSelOamData.Size = 1;
	header.cellNo = SelWork->cell_id + 1;
	header.anmData_p = BoxSelSideAnmTbl;
	for(i = 0; i < 4; i++){
		actno = AddActor(&header, BOXSEL_LEFT_X, BOXSEL_UP_Y, SelWork->actpri);
		SelWork->SelSideActor[i] = &ActWork[actno];
		anmno = 0;
		if(i & 2){
//			SelWork->SelSideActor[i]->Hflip = 1;
//			SelWork->SelSideActor[i]->oamData.CharNo += 6;
			SelWork->SelSideActor[i]->x = BOXSEL_RIGHT_X;
			anmno += 2;
		}
		if(i & 1){
//			ActAnmChg(SelWork->SelSideActor[i], 1);
//			SelWork->SelSideActor[i]->oamData.CharNo += 2;
			SelWork->SelSideActor[i]->y = BOXSEL_DOWN_Y;
			SelWork->SelSideActor[i]->oamData.Size = 0;
			anmno += 1;
		}
		ActAnmChg(SelWork->SelSideActor[i], anmno);
	}

	for(i = 0; i < 2; i++)
	{
		SelWork->ArrowActor[i] =
			MakeBoxArrowActor(BOXSEL_ARROW_X+BOXSEL_ARROW_XDIFF*i, BOXSEL_ARROW_Y, i, 0, SelWork->actpri);

		if(SelWork->ArrowActor[i] != NULL)
		{
			SelWork->ArrowActor[i]->work[0] = (i==0)? -1 : 1;
			SelWork->ArrowActor[i]->move = arrow_actmove;
		}
	}

	write_boxname();
	write_boxsel_obj(fooder, COUNT_X+2, COUNT_Y);
}
/***********************************************************************
**	ボックス選択ウィンドウ消去
**********************************************************************/
static void DelBoxSel(void)
{
	u16 i;

	if(SelWork->SelActor != NULL){
		DelActor(SelWork->SelActor);
		SelWork->SelActor = NULL;
	}
	for(i = 0; i < 4	; i++){
		if(SelWork->SelSideActor[i] != NULL){
			DelActor(SelWork->SelSideActor[i]);
			SelWork->SelSideActor[i] = NULL;
		}
	}
	for(i = 0; i < 2; i++)
	{
		if(SelWork->ArrowActor[i] != NULL)
		{
			DelActor(SelWork->ArrowActor[i]);
		}
	}
}
/***********************************************************************
**	ボックスナンバーインクリメント・デクリメント
**********************************************************************/
static void inc_boxno(void)
{
	if(++SelWork->SelBoxNo >= BOX_KAZU){ SelWork->SelBoxNo = 0; }
	write_boxname();
}
static void dec_boxno(void)
{
	SelWork->SelBoxNo = (SelWork->SelBoxNo)? (SelWork->SelBoxNo-1) : (BOX_KAZU-1);
	write_boxname();
}
/***********************************************************************
**	ボックス名描画
**********************************************************************/
static void write_boxname(void)
{
	u16 cnt;
	u8 *cp;

	cnt = GetPasoBoxPokeCount(SelWork->SelBoxNo);

	cp = PM_strcpy(SelWork->buf, BoxData.BoxName[SelWork->SelBoxNo]);
	while(cp < &(SelWork->buf[BOXNAME_MAX])){
		*cp++ = spc_;
	}
	*cp = EOM_;

	write_boxsel_obj(SelWork->buf, BOXNAME_X, BOXNAME_Y);
	PM_NumMsgSet(SelWork->buf, cnt, NUM_MODE_SPACE, 2);
	write_boxsel_obj(SelWork->buf, COUNT_X, COUNT_Y);
}
/***********************************************************************
**	選択ウィンドウＯＢＪ領域にテキストＣＧＸを展開
**
**	str   文字列
**  x, y  描画開始ブロック
**
**********************************************************************/
static void write_boxsel_obj(const u8 *str, u16 x, u16 y)
{
	u8 *dst = (u8*)(OBJ_MODE0_VRAM + (CellCharNumGet(SelWork->cell_id)*0x20) + (y * 8 * 0x20) + (x * 0x20));
	BoxDrawFont(str, dst, DRAWTYPE_16NOTRANS, 0x20*8, 1, SelWork->label_buf);
}
/***********************************************************************
**	矢印アクターの動作関数
**********************************************************************/
static void arrow_actmove(actWork *act)
{
	if(++(act->work[1]) > 3){
		act->work[1] = 0;
		act->dx += act->work[0];
		if(++(act->work[2]) > 5){
			act->work[2] = 0;
			act->dx = 0;
		}
	}
}
/*====================================================================
== 画像データ                                                       ==
====================================================================*/
static const u16 boxsel_Palette[16]={
	0x0000,0x3b7e,0x5b9e,0x01f9,0x012f,0x0000,0x0000,0x0000,
	0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x6318,0x0000,
};
//////////////////////////////////////////////////
// 本体キャラ
//////////////////////////////////////////////////
// 本体中央（文字書き換えあり）
static const u8 boxsel_Character[8*4*64]={
                                                        /*  1  =  32(0x20)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  2  =  64(0x40)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  3  =  96(0x60)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  4  =  128(0x80)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  5  =  160(0xa0)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  6  =  192(0xc0)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  7  =  224(0xe0)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  8  =  256(0x100)  */
	0x33,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x22,0x22,0x22,0x22,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  9  =  288(0x120)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  10  =  320(0x140)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  11  =  352(0x160)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  12  =  384(0x180)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  13  =  416(0x1a0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  14  =  448(0x1c0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  15  =  480(0x1e0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  16  =  512(0x200)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  17  =  544(0x220)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  18  =  576(0x240)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  19  =  608(0x260)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  20  =  640(0x280)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  21  =  672(0x2a0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  22  =  704(0x2c0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  23  =  736(0x2e0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  24  =  768(0x300)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  25  =  800(0x320)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  26  =  832(0x340)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  27  =  864(0x360)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  28  =  896(0x380)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  29  =  928(0x3a0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  30  =  960(0x3c0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  31  =  992(0x3e0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  32  =  1024(0x400)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  33  =  1056(0x420)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  34  =  1088(0x440)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  35  =  1120(0x460)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  36  =  1152(0x480)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  37  =  1184(0x4a0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  38  =  1216(0x4c0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  39  =  1248(0x4e0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  40  =  1280(0x500)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
                                                        /*  41  =  1312(0x520)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  42  =  1344(0x540)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  43  =  1376(0x560)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  44  =  1408(0x580)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  45  =  1440(0x5a0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  46  =  1472(0x5c0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  47  =  1504(0x5e0)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  48  =  1536(0x600)  */
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
	0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x22,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
                                                        /*  49  =  1568(0x620)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  50  =  1600(0x640)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  51  =  1632(0x660)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  52  =  1664(0x680)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  53  =  1696(0x6a0)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  54  =  1728(0x6c0)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  55  =  1760(0x6e0)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  56  =  1792(0x700)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  57  =  1824(0x720)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  58  =  1856(0x740)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  59  =  1888(0x760)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  60  =  1920(0x780)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  61  =  1952(0x7a0)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  62  =  1984(0x7c0)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  63  =  2016(0x7e0)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                                        /*  64  =  2048(0x800)  */
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

// 本体縁部分
static const u8 boxselside_Character[8*4*12]={
                                                        /*  1  =  32(0x20)  */
	0x30,0x33,0x33,0x33,0x33,0x33,0x33,0x33,
	0x33,0x23,0x22,0x22,0x33,0x22,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
                                                        /*  2  =  64(0x40)  */
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
                                                        /*  3  =  96(0x60)  */
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
                                                        /*  4  =  128(0x80)  */
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
                                                        /*  5  =  160(0xa0)  */
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
                                                        /*  6  =  192(0xc0)  */
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x12,0x11,0x11,0x33,0x12,0x11,0x11,
	0x33,0x22,0x11,0x11,0x33,0x23,0x22,0x22,
	0x33,0x44,0x44,0x44,0x40,0x44,0x44,0x44,
                                                        /*  7  =  224(0xe0)  */
	0x33,0x33,0x33,0x03,0x33,0x33,0x33,0x43,
	0x22,0x22,0x32,0x44,0x11,0x11,0x22,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
                                                        /*  8  =  256(0x100)  */
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
                                                        /*  9  =  288(0x120)  */
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
                                                        /*  10  =  320(0x140)  */
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
                                                        /*  11  =  352(0x160)  */
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
                                                        /*  12  =  384(0x180)  */
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x21,0x44,0x11,0x11,0x21,0x44,
	0x11,0x11,0x22,0x44,0x22,0x22,0x42,0x44,
	0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x04,
};
